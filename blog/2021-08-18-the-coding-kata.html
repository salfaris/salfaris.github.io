<!DOCTYPE html>

<html lang="en">
<head>
<!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="https://salfaris.me/theme/css/style.less">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
<link href="https://salfaris.me/theme/css/style.css" rel="stylesheet" type="text/css"/>
<link href="https://salfaris.me/theme/css/pygments.css" rel="stylesheet" type="text/css"/>
<link href="//fonts.googleapis.com/css?family=PT+Sans|PT+Serif|PT+Mono" rel="stylesheet" type="text/css"/>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="Salman Faris" name="author"/>
<meta content="A place where I rant mostly about math, machine learning and python." name="description"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@salmannfaris" name="twitter:site"/>
<meta content="@salmannfaris" name="twitter:creator"/>
<link href="https://salfaris.me/feeds/all.atom.xml" rel="alternate" title="Salman Faris Atom" type="application/atom+xml"/>
<meta content="software-engineering, clean-coding" name="keywords"/>
<meta content="The Coding Kata" property="twitter:title"/>
<meta content="https://salfaris.me/blog/images/" property="twitter:image"/>
<title>Salman Faris – The Coding Kata</title>
<link href="https://salfaris.me/blog/2021-08-18-the-coding-kata.html" rel="canonical"/><script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Salman Faris", "item": "https://salfaris.me"}, {"@type": "ListItem", "position": 2, "name": "Blog", "item": "https://salfaris.me/blog"}, {"@type": "ListItem", "position": 3, "name": "2021 08 18 the coding kata", "item": "https://salfaris.me/blog/2021-08-18-the-coding-kata.html"}]}</script><script type="application/ld+json">{"@context": "https://schema.org", "@type": "Article", "author": {"@type": "Person", "name": "Salman Faris"}, "publisher": {"@type": "Organization", "name": "Salman Faris"}, "headline": "The Coding Kata", "about": "software-engineering", "datePublished": "2021-08-18 23:25"}</script></head>
<body>
<aside>
<div id="user_meta">
<a href="https://salfaris.me">
<img alt="logo" src="https://salfaris.me/images/avatar_circ.png"/>
</a>
<h2><a href="https://salfaris.me">Salman Faris</a></h2>
<p>I talk about math, machine learning and python.</p>
<ul>
<li><a href="/blog">blog</a></li>
<li><a href="/pages/about">about</a></li>
<li><a href="/pages/resources">resources</a></li>
</ul>
</div>
</aside>
<main>
<header>
<p>
<a href="https://salfaris.me">Index</a> ¦
          <a href="https://salfaris.me/archives.html">Archives</a>  ¦
          <a href="https://salfaris.me/feeds/all.atom.xml">Atom</a> </p>
</header>
<article>
<div class="article_title">
<h1><a href="https://salfaris.me/blog/2021-08-18-the-coding-kata.html">The Coding Kata</a></h1>
</div>
<div class="article_meta">
<p>Posted on: Wed 18 August 2021</p>
</div>
<!--   <div class="article_meta">
    <p>Last modified: 2021-08-19 11:36:00+01:00</p>
  </div>
  -->
<div class="article_text"><p>A coding kata is <em>an exercise to sharpen your programming skills and muscle memory via repetition</em>. I learnt this concept when I was reading <strong>The Clean Coder</strong> (highly recommended!) and have since adopted it as part of my programming routine. It helps my hands "know" what to type when I need to type.</p>
<p>I have also adapted the concept of kata as a means to learn/revise programming languages effectively. Instead of writing a random script doing god knows what after learning the syntax, I would implement the simple linear regression algorithm from scratch in this language. Why this is a good kata you ask? Here is why among others:</p>
<ol>
<li>You can practice using OOP in the new lang</li>
<li>You will deal with ints, doubles, static and dynamic arrays.</li>
<li>You will do some basic math operations.</li>
<li>You will implement at least one function.</li>
<li>You will implement at least a for loop.</li>
<li>You might use an import.</li>
</ol>
<p>To put simply, it ensures you use a lot of the functionalities in the language and actually spend time doing it.</p>
<p>I recently wanted to refresh my mind on the C++ lang and so here's simple linear regression in C++.</p>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp"></span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">LinearRegression</span> <span class="p">{</span>
    <span class="k">private</span><span class="o">:</span>
        <span class="kt">int</span> <span class="n">m_epoch</span><span class="p">;</span>
        <span class="kt">double</span> <span class="n">m_learningRate</span><span class="p">;</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">weights</span><span class="p">;</span>

    <span class="k">public</span><span class="o">:</span>
        <span class="n">LinearRegression</span><span class="p">(</span><span class="kt">int</span> <span class="n">epoch</span><span class="p">,</span> <span class="kt">double</span> <span class="n">learningRate</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="o">-&gt;</span><span class="n">m_epoch</span> <span class="o">=</span> <span class="n">epoch</span><span class="p">;</span>
            <span class="k">this</span><span class="o">-&gt;</span><span class="n">m_learningRate</span> <span class="o">=</span> <span class="n">learningRate</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="kt">void</span> <span class="n">fit</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">x</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">weights</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>
            <span class="kt">int</span> <span class="n">dataLength</span> <span class="o">=</span> <span class="n">x</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>

            <span class="kt">int</span> <span class="n">epoch</span> <span class="o">=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">m_epoch</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">e</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">e</span> <span class="o">&lt;</span> <span class="n">epoch</span><span class="p">;</span> <span class="n">e</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">dataLength</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                    <span class="kt">double</span> <span class="n">estimate</span> <span class="o">=</span> <span class="n">weights</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">weights</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
                    <span class="kt">double</span> <span class="n">error</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">estimate</span><span class="p">;</span>

                    <span class="n">weights</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">m_learningRate</span> <span class="o">*</span> <span class="n">error</span><span class="p">;</span>
                    <span class="n">weights</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">m_learningRate</span> <span class="o">*</span> <span class="n">error</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="k">this</span><span class="o">-&gt;</span><span class="n">weights</span> <span class="o">=</span> <span class="n">weights</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">predict</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">dataLength</span> <span class="o">=</span> <span class="n">x</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
            <span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">yPred</span><span class="p">;</span>
            <span class="n">yPred</span><span class="p">.</span><span class="n">reserve</span><span class="p">(</span><span class="n">dataLength</span><span class="p">);</span>  <span class="c1">// Preallocate length of yPred based on size of x.</span>

            <span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">weights</span> <span class="o">=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">weights</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">dataLength</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">yPred</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">weights</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">weights</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
            <span class="p">}</span>

            <span class="k">return</span> <span class="n">yPred</span><span class="p">;</span>
        <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<p>And here's an example of the kata in JavaScript (although the way it expects data is a bit different compared to the C++ implementation).</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nx">LinearRegression</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">params</span> <span class="o">=</span> <span class="p">{})</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">weights</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">weights</span> <span class="o">||</span> <span class="p">[];</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">learningRate</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">learningRate</span> <span class="o">||</span> <span class="mf">0.01</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">fittedValues</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="p">}</span>

  <span class="nx">estimator</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">weights</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">[</span><span class="nx">w0</span><span class="p">,</span> <span class="nx">w1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">weights</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">w0</span> <span class="o">+</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">w1</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">fit</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">weights</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">weights</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">];</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>

      <span class="kd">const</span> <span class="nx">estimate</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">estimator</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">weights</span><span class="p">);</span>
      <span class="kd">const</span> <span class="nx">error</span> <span class="o">=</span> <span class="nx">y</span> <span class="o">-</span> <span class="nx">estimate</span><span class="p">;</span>

      <span class="kd">let</span> <span class="p">[</span><span class="nx">w0</span><span class="p">,</span> <span class="nx">w1</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">weights</span><span class="p">;</span>

      <span class="nx">w0</span> <span class="o">+=</span> <span class="k">this</span><span class="p">.</span><span class="nx">learningRate</span> <span class="o">*</span> <span class="nx">error</span><span class="p">;</span>
      <span class="nx">w1</span> <span class="o">+=</span> <span class="k">this</span><span class="p">.</span><span class="nx">learningRate</span> <span class="o">*</span> <span class="nx">error</span> <span class="o">*</span> <span class="nx">x</span><span class="p">;</span>

      <span class="k">this</span><span class="p">.</span><span class="nx">weights</span> <span class="o">=</span> <span class="p">[</span><span class="nx">w0</span><span class="p">,</span> <span class="nx">w1</span><span class="p">];</span>
    <span class="p">}</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">fittedValues</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getFittedValues</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nx">getFittedValues</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">map</span><span class="p">(({</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">estimator</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">weights</span><span class="p">)</span> <span class="p">};</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>I leave the Python implementation to you ;)</p></div>
<div class="article_meta">
<p>
      Category:
      <a href="https://salfaris.me/category/software-engineering.html">software-engineering</a>
 – Tags:       <a href="https://salfaris.me/tag/software-engineering.html">software-engineering</a>,       <a href="https://salfaris.me/tag/clean-coding.html">clean-coding</a> </p>
</div>
</article>
<div id="ending_message">
<p>
          © Salman Faris. Built using
          <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by
          Giulio Fidente on
          <a href="https://github.com/gfidente/pelican-svbhack" target="_blank">github</a>.         </p>
</div>
</main>
</body>
</html>
<!-- This script solves the issue of mathjax not rendering on homepage -->
<script async="" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML" type="text/javascript"></script>