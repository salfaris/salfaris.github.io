<!DOCTYPE html>

<html lang="en">
<head>
<!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="https://salfaris.github.io/theme/css/style.less">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
<link href="https://salfaris.github.io/theme/css/style.css" rel="stylesheet" type="text/css"/>
<link href="https://salfaris.github.io/theme/css/pygments.css" rel="stylesheet" type="text/css"/>
<link href="//fonts.googleapis.com/css?family=PT+Sans|PT+Serif|PT+Mono" rel="stylesheet" type="text/css"/>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="Salman Faris" name="author"/>
<meta content="A place where I rant mostly about math, machine learning and python." name="description"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@salmannfaris" name="twitter:site"/>
<meta content="@salmannfaris" name="twitter:creator"/>
<link href="https://salfaris.github.io/feeds/all.atom.xml" rel="alternate" title="Salman Faris Atom" type="application/atom+xml"/>
<meta content="javascript, plotly, python" name="keywords"/>
<meta content="Plotly.py main theme in Plotly.js" property="twitter:title"/>
<meta content="https://salfaris.github.io/blog/images/plotly_py_plot.png" property="twitter:image"/>
<title>Salman Faris ‚Äì Plotly.py main theme in Plotly.js</title>
<link href="https://salfaris.github.io/blog/2021-06-13-plotly-py-main-theme-in-plotly-js.html" rel="canonical"/><script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Salman Faris", "item": "https://salfaris.github.io"}, {"@type": "ListItem", "position": 2, "name": "Blog", "item": "https://salfaris.github.io/blog"}, {"@type": "ListItem", "position": 3, "name": "2021 06 13 plotly py main theme in plotly js", "item": "https://salfaris.github.io/blog/2021-06-13-plotly-py-main-theme-in-plotly-js.html"}]}</script><script type="application/ld+json">{"@context": "https://schema.org", "@type": "Article", "author": {"@type": "Person", "name": "Salman Faris"}, "publisher": {"@type": "Organization", "name": "Salman Faris"}, "headline": "Plotly.py main theme in Plotly.js", "about": "web-dev", "datePublished": "2021-06-13 23:14", "image": "plotly_py_plot.png"}</script></head>
<body>
<aside>
<div id="user_meta">
<a href="https://salfaris.github.io">
<img alt="logo" src="https://salfaris.github.io/images/avatar_circ.png"/>
</a>
<h2><a href="https://salfaris.github.io">Salman Faris</a></h2>
<p>I talk about statistics, data science and machine learning.</p>
<ul>
<li><a href="/pages/about">ü•∏ about</a></li>
<li><a href="/blog">üìù blog</a></li>
<li><a href="/pages/projects">üíª projects</a></li>
<li><a href="/pages/resources">üìÇ resources</a></li>
</ul>
</div>
</aside>
<main>
<header>
<p>
<a href="https://salfaris.github.io">Index</a> ¬¶
          <a href="https://salfaris.github.io/archives.html">Archives</a>  ¬¶
          <a href="https://salfaris.github.io/feeds/all.atom.xml">Atom</a> </p>
</header>
<article>
<div class="article_title">
<h1><a href="https://salfaris.github.io/blog/2021-06-13-plotly-py-main-theme-in-plotly-js.html">Plotly.py main theme in Plotly.js</a></h1>
</div>
<div class="article_meta">
<p>Posted on: Sun 13 June 2021</p>
</div>
<!--   <div class="article_meta">
    <p>Last modified: 2021-06-13 23:14:00+01:00</p>
  </div>
  -->
<div class="article_text"><p>If you're like me who is used to using Plotly.py (i.e. Plotly Python) and then suddenly decided to use Plotly.js directly, you might immediately realize that there are some significant differences in terms of the plot design.</p>
<p><img alt="Plotly Python Plot" src="https://salfaris.github.io/blog/images/plotly_py_plot.png"/></p>
<p>For one, your default plot in Plotly.js has a white background and not the steel blue colour as you would expect from a default Plotly.py plot. The reason is that the plots produced in the python version of Plotly come prepackaged with nice out-of-the-box themes. For example, the plot image above is a Plotly.py scatter plot with the default <em>plotly</em> template. So how do we reproduce these themes inside of Plotly.js?</p>
<p>Diving deeper into the Plotly documentation, I discovered that you can actually get the "theme settings" for the Plotly.py templates with just 4 lines of Python code.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">plotly.io</span> <span class="k">as</span> <span class="nn">pio</span>
<span class="n">template</span> <span class="o">=</span> <span class="s2">"plotly"</span>
<span class="n">plotly_template</span> <span class="o">=</span> <span class="n">pio</span><span class="o">.</span><span class="n">templates</span><span class="p">[</span><span class="n">template</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">plotly_template</span><span class="o">.</span><span class="n">layout</span><span class="p">)</span>
</code></pre></div>
<p>The Python code above prints the "theme settings" of the plot or in proper Plotly lingo, the plot <strong>layout</strong> settings. In our particular case above where we set <code>template = "plotly"</code>, we get the default plotly theme layout settings:</p>
<div class="highlight"><pre><span></span><code><span class="n">Layout</span><span class="p">({</span>
    <span class="s1">'annotationdefaults'</span><span class="p">:</span> <span class="p">{</span><span class="s1">'arrowcolor'</span><span class="p">:</span> <span class="s1">'#2a3f5f'</span><span class="p">,</span> <span class="s1">'arrowhead'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">'arrowwidth'</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
    <span class="s1">'autotypenumbers'</span><span class="p">:</span> <span class="s1">'strict'</span><span class="p">,</span>
    <span class="s1">'coloraxis'</span><span class="p">:</span> <span class="p">{</span><span class="s1">'colorbar'</span><span class="p">:</span> <span class="p">{</span><span class="s1">'outlinewidth'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">'ticks'</span><span class="p">:</span> <span class="s1">''</span><span class="p">}},</span>
    <span class="o">...</span>
<span class="p">})</span>
</code></pre></div>
<p>As you can see, it is in serialized JSON format. The idea now then is to deserialize this layout settings into a JavaScript object literal and pass it into the layout of your plot in Plotly.js. I did the deserialize process manually because I cannot find a way to automate this process (I would love to hear if you are able to do it!). For the default plotly theme, the JavaScript object literal is given below:</p>
<div class="gist">
<script src="https://gist.github.com/0995e0808a22aca8f4afb5faeb4d79c7.js"></script>
<noscript>
<pre><code>const defaultPlotlyLayout = {
  annotationdefaults: { arrowcolor: "#2a3f5f", arrowhead: 0, arrowwidth: 1 },
  autotypenumbers: "strict",
  coloraxis: { colorbar: { outlinewidth: 0, ticks: "" } },
  colorscale: {
    diverging: [
      [0, "#8e0152"],
      [0.1, "#c51b7d"],
      [0.2, "#de77ae"],
      [0.3, "#f1b6da"],
      [0.4, "#fde0ef"],
      [0.5, "#f7f7f7"],
      [0.6, "#e6f5d0"],
      [0.7, "#b8e186"],
      [0.8, "#7fbc41"],
      [0.9, "#4d9221"],
      [1, "#276419"],
    ],
    sequential: [
      [0.0, "#0d0887"],
      [0.1111111111111111, "#46039f"],
      [0.2222222222222222, "#7201a8"],
      [0.3333333333333333, "#9c179e"],
      [0.4444444444444444, "#bd3786"],
      [0.5555555555555556, "#d8576b"],
      [0.6666666666666666, "#ed7953"],
      [0.7777777777777778, "#fb9f3a"],
      [0.8888888888888888, "#fdca26"],
      [1.0, "#f0f921"],
    ],
    sequentialminus: [
      [0.0, "#0d0887"],
      [0.1111111111111111, "#46039f"],
      [0.2222222222222222, "#7201a8"],
      [0.3333333333333333, "#9c179e"],
      [0.4444444444444444, "#bd3786"],
      [0.5555555555555556, "#d8576b"],
      [0.6666666666666666, "#ed7953"],
      [0.7777777777777778, "#fb9f3a"],
      [0.8888888888888888, "#fdca26"],
      [1.0, "#f0f921"],
    ],
  },
  colorway: [
    "#636efa",
    "#EF553B",
    "#00cc96",
    "#ab63fa",
    "#FFA15A",
    "#19d3f3",
    "#FF6692",
    "#B6E880",
    "#FF97FF",
    "#FECB52",
  ],
  font: { color: "#2a3f5f" },
  geo: {
    bgcolor: "white",
    lakecolor: "white",
    landcolor: "#E5ECF6",
    showlakes: true,
    showland: true,
    subunitcolor: "white",
  },
  hoverlabel: { align: "left" },
  hovermode: "closest",
  mapbox: { style: "light" },
  paper_bgcolor: "white",
  plot_bgcolor: "#E5ECF6",
  polar: {
    angularaxis: { gridcolor: "white", linecolor: "white", ticks: "" },
    bgcolor: "#E5ECF6",
    radialaxis: { gridcolor: "white", linecolor: "white", ticks: "" },
  },
  scene: {
    xaxis: {
      backgroundcolor: "#E5ECF6",
      gridcolor: "white",
      gridwidth: 2,
      linecolor: "white",
      showbackground: true,
      ticks: "",
      zerolinecolor: "white",
    },
    yaxis: {
      backgroundcolor: "#E5ECF6",
      gridcolor: "white",
      gridwidth: 2,
      linecolor: "white",
      showbackground: true,
      ticks: "",
      zerolinecolor: "white",
    },
    zaxis: {
      backgroundcolor: "#E5ECF6",
      gridcolor: "white",
      gridwidth: 2,
      linecolor: "white",
      showbackground: true,
      ticks: "",
      zerolinecolor: "white",
    },
  },
  shapedefaults: { line: { color: "#2a3f5f" } },
  ternary: {
    aaxis: { gridcolor: "white", linecolor: "white", ticks: "" },
    baxis: { gridcolor: "white", linecolor: "white", ticks: "" },
    bgcolor: "#E5ECF6",
    caxis: { gridcolor: "white", linecolor: "white", ticks: "" },
  },
  title: { x: 0.05 },
  xaxis: {
    automargin: true,
    gridcolor: "white",
    linecolor: "white",
    ticks: "",
    title: { standoff: 15 },
    zerolinecolor: "white",
    zerolinewidth: 2,
  },
  yaxis: {
    automargin: true,
    gridcolor: "white",
    linecolor: "white",
    ticks: "",
    title: { standoff: 15 },
    zerolinecolor: "white",
    zerolinewidth: 2,
  },
};</code></pre>
</noscript>
</div>
<blockquote>
<p>Note: Stating the obvious but since the layout setting is extracted from the Plotly documentation, it is the hard work of the people behind Plotly. Thank you for the awesome theme!</p>
</blockquote>
<p>The final step is to pass this layout into the layout parameter of the Plotly plot, and you get your favorite default Plotly.py theme again but now directly in Plotly.js!</p></div>
<div class="article_meta">
<p>
      Category:
      <a href="https://salfaris.github.io/category/web-dev.html">web-dev</a>
 ‚Äì Tags:       <a href="https://salfaris.github.io/tag/javascript.html">javascript</a>,       <a href="https://salfaris.github.io/tag/plotly.html">plotly</a>,       <a href="https://salfaris.github.io/tag/python.html">python</a> </p>
</div>
</article>
<div id="ending_message">
<p>
          ¬© Salman Faris. Built using
          <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by
          Giulio Fidente on
          <a href="https://github.com/gfidente/pelican-svbhack" target="_blank">github</a>.         </p>
</div>
</main>
</body>
</html>
<!-- This script solves the issue of mathjax not rendering on homepage -->
<script async="" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML" type="text/javascript"></script>