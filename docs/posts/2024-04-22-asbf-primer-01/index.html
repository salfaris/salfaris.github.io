<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Salman Faris">
<meta name="dcterms.date" content="2024-04-22">

<title>salman faris - A mathematical take on when to take a loan such as ASB Financing?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">

<link rel="stylesheet" href="../../styles.css">
<meta name="twitter:title" content="salman faris - A mathematical take on when to take a loan such as ASB Financing?">
<meta name="twitter:description" content="Disclaimer: Nothing written here is investment advice.">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title"><strong>salman faris</strong></span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">about</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html">
 <span class="menu-text">projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources.html">
 <span class="menu-text">resources</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/salfaris/"><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/salfaris"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">A mathematical take on when to take a loan such as ASB Financing?</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">quant</div>
                <div class="quarto-category">investment</div>
                <div class="quarto-category">strategies</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Salman Faris </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 22, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-asb-financing" id="toc-what-is-asb-financing" class="nav-link active" data-scroll-target="#what-is-asb-financing">What is ASB financing</a></li>
  <li><a href="#decision-parity" id="toc-decision-parity" class="nav-link" data-scroll-target="#decision-parity">Decision parity</a></li>
  <li><a href="#mathematical-primer" id="toc-mathematical-primer" class="nav-link" data-scroll-target="#mathematical-primer">Mathematical primer</a>
  <ul class="collapse">
  <li><a href="#measuring-poor-financing-choices-with-curves" id="toc-measuring-poor-financing-choices-with-curves" class="nav-link" data-scroll-target="#measuring-poor-financing-choices-with-curves">Measuring poor financing choices with curves</a></li>
  </ul></li>
  <li><a href="#so-what-have-we-learnt" id="toc-so-what-have-we-learnt" class="nav-link" data-scroll-target="#so-what-have-we-learnt">So what have we learnt?</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p><em>Disclaimer: Nothing written here is investment advice.</em></p>
<section id="what-is-asb-financing" class="level1">
<h1>What is ASB financing</h1>
<p>ASB financing is a financing tool to maximize investment in Malaysia’s ASB (Amanah Saham Berhad) unit trust fund. It is an excellent product for Bumis (controversial… I know). Essentially, it allows for leverage with only interest as a risk; which is great not just for consumers but with such few parameters, it makes modelling easy as well. Unfortunately, albeit expected, there’s not much arbitrage in this space – maybe only reverse arbitrage where financial institutions can screw consumers over.</p>
<p>But risk is risk and I want to minimize loss and regrets to the lowest low. Like all investments, betting strats and literally anything that involves counting numbers, I like to think of parities – for example, how does a $1 injection in a risk-free investment compares to one with risk? If there is zero difference, then it is obvious to go with the risk-free asset. We will be reasoning in this exact same line.</p>
</section>
<section id="decision-parity" class="level1">
<h1>Decision parity</h1>
<p>I am going to put some numbers down so that the parity justification makes more sense. If I have some disposable $20,000 to invest, an investment in ASB without financing with a dividend rate of 5% would yield me $1000. However, with financing at a 4% interest rate, the same $20,000 would yield me only $200. Ouch, not great. So how do we achieve parity assuming interest and dividend rates are fixed? Well, you would have to take financing with a starting capital of $100,000. So I would have to take a loan that is 5x the value of my disposable starter. Is this worth it?</p>
<p>Note that you take financing over a set amount of years so the interest rate can change with years. But the dividend rate is the same regardless if you take financing or not so we can essentially treat it as constant. Let’s look at what happens if we perturb the interest rate a bit assuming the dividend rate holds at 5%. Again take a starting capital of $100,000. With each 1% interest rate decrement, we see that the yield doubles from $1000 to $2000 and then to $3000 and eventually to $5000 where the interest rate is zero. So if the interest rate behaves stochastically (as it should), we should see some good years where the returns can get lucrative. Just think about the amount of disposable capital you need to have to attain these returns – it scales 2x with each 1% interest rate decrement. So to attain a $3000 return, you need $60,000 to start with which can be quite a jump.</p>
<p><em>Just a short disclaimer that there can be terrible years as well if the dividend rate falls below the interest rate. As of 2024, we are seeing ASB stabilizing a bit despite the terrible Malaysian market conditions and <a href="https://www.isaham.my/foreign-funds">insane amount of foreign funds outflow</a>. So we shouldn’t be seeing a crossover between the two rates unless BNM starts to do something funny possibly due to global economy forcing Malaysia to be reactive.</em></p>
<p>So how do we formalize the parity argument in this context? Can we give answer to questions like “how much starting capital should I need before the risk due to premiums becomes unprofitable so that I can focus on investment without financing”? I aim to answer questions like these in the future where we look into annual movements and observe with a closer lens the dynamics of interest, dividend and reinvested capital – this sounds like a three-body problem and the maths can get musty real quick. This post, however, is a primer to set up a tool so we can reason about what I just said in a logical way.</p>
</section>
<section id="mathematical-primer" class="level1">
<h1>Mathematical primer</h1>
<p>An investment capital <span class="math inline">C</span> yields a return of <span class="math inline">f(C; d) = f(C) = dC</span> with dividend rate <span class="math inline">d</span>. With financing, the returns get discounted with an interest rate <span class="math inline">r</span> so an initial capital <span class="math inline">C</span> yields a return of <span class="math inline">\tilde{f}(C; d, r) = \tilde{f}(C) = dC(1-r) = f(C)(1-r)</span>. Observe that these are linear functions in <span class="math inline">C</span> (and even in <span class="math inline">d</span> and <span class="math inline">r</span>). Rather than considering this specific form, let’s make this model more useful and generalize this. Just thinking of returns that scale with capital and nothing else, we expect returns to be strictly monotone and hence, invertible. So let’s assume our return functions obey that.</p>
<p>With this in place, we can now reason about parity under this framework. Let <span class="math inline">f</span>, <span class="math inline">\tilde{f}</span> be returns without and with financing respectively. Let <span class="math inline">C_1 &gt; 0</span> be your disposable capital; <span class="math inline">C_1</span> should be the capital that maximizes <span class="math inline">f</span> as you can always invest any capital <span class="math inline">C \leqslant C_1</span> without financing. Then parity in ASB financing is attain at a capital <span class="math inline">C_2</span> that satisfies <span class="math inline">C_2 &gt; C_1</span> where the returns with financing is at least equivalent to returns in the interest-free investment. In our framework, <span class="math inline">C_2</span> is a capital that satisfies <span class="math inline">\tilde{f}(C_2) = f(C_1)</span>. But remember that we assume strict monotonocity on <span class="math inline">\tilde{f}</span>, so this means we can simply invert <span class="math inline">\tilde{f}</span> to get <span class="math inline">C_2 = \tilde{f}^{-1}(f(C_1))</span>. And that’s it!</p>
<p>Using returns in the linear setting, we have <span class="math inline">\displaystyle C_2 = \frac{f(C_1)}{d(1-r)} = \frac{C_1}{1-r}</span>. And we can compute the parity difference <span class="math inline">\Pi(C_1, C_2) := |C_2 - C_1|</span> where in the linear setting reduces to:</p>
<p><span class="math display">
\Pi(C_1, C_2) = |C_2 - C_1| = C_1 \left| \frac{r}{1-r} \right|.
</span></p>
<p>Using parity difference, we recover the same conclusion we did before that with each 1% interest rate decrement, we see the parity difference getting smaller by approximately $1000 and eventually converges to 0 as the interest rate goes to zero.</p>
<section id="measuring-poor-financing-choices-with-curves" class="level2">
<h2 class="anchored" data-anchor-id="measuring-poor-financing-choices-with-curves">Measuring poor financing choices with curves</h2>
<p>Recall that returns is a function of capital, but also assumes a fixed dividend and interest rate <span class="math inline">r</span>. By relaxing the interest rate <span class="math inline">r</span> assumption in <span class="math inline">\tilde{f}(C; d, r)</span>, we see that <span class="math inline">r</span> defines the family of <em>financed</em> curves <span class="math inline">\tilde{f}(C, r; d)</span>. If we further relax the fixed dividend rate <span class="math inline">d</span> assumption, we obtain a wider family of linear curves for both <span class="math inline">f(C, d, r)</span> and <span class="math inline">\tilde{f}(C, d, r)</span>. So how can we measure which <em>financed</em> curves are worse? One metric that we can use is the area enclosed between <span class="math inline">f</span> and <span class="math inline">\tilde{f}</span>, bounded by the minimum and maximum of <span class="math inline">f</span>. This is probably not the best metric, but it works based on some hand computations (happy to be proven wrong!). Let <span class="math inline">C_0</span> be the minimum amount of invested capital where <span class="math inline">0 \leqslant C_0 \leqslant C_1</span>; this should be the value that minimizes <span class="math inline">f</span>. Then using very basic geometry, you can obtain this metric as the following quantity:</p>
<p><span class="math display">
\begin{align*}
\mathrm{Loss}(f, \tilde{f}) &amp;= \int_{C_0}^{C_1} \left(f(C) - \min_{C} f(C)\right) \mathrm{d}C + \int_{C_1}^{C_2} \left(\max_{C} f(C) - \tilde{f}(C)\right) \mathrm{d}C \\
&amp;= \int_{C_0}^{C_1} \left(f(C) - f(C_0)\right) \mathrm{d}C + \int_{C_1}^{C_2} \left(f(C_1) - \tilde{f}(C)\right) \mathrm{d}C.
\end{align*}
</span></p>
<p>So a good financing option – where interest rate is minimized – should be where the loss metric above is minimized. It is rather tedious to compute this. Thankfully, however, there is an equivalence between this metric and the parity difference, suggesting that it suffices to look at the parity difference.</p>
<p>If one examines the loss function above, one observe that the first part is entirely defined by <span class="math inline">f</span>. This quantity acts only as a bias in the loss computation. Rather, the second quantity is what we should care about. Observe that this term is minimized if the integral range <span class="math inline">[C_1, C_2]</span> is minimized, and that was exactly the parity difference we defined before!</p>
</section>
</section>
<section id="so-what-have-we-learnt" class="level1">
<h1>So what have we learnt?</h1>
<p>In this post, we looked at formalizing parity differences in investing in ASB with and without financing. From there, we build a metric to measure poor financing choices using a geometrical approach. This formalism gives us a tool to logically reason, for example, on finding a comfortable threshold for taking a loan to invest.</p>
<p>What next? From here, we can use this formalism to measure annual compound returns either via a deterministic or stochastic approach. Running simulations should also be straightforward using this framework.</p>
<p>With this formalism, the best answer I can give (to myself, this is not investment advice!) on what set level to start taking financing is the following: given a disposable investment amount <span class="math inline">C_1</span>, take financing for ASB if the initial financing amount satisfies <span class="math inline">C_2 = \tilde{f}^{-1}(f(C_1))</span> such that <span class="math inline">\log C_2/C_1 \approx 1</span>. It will be fun to see how this changes when we consider annual dynamics.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>